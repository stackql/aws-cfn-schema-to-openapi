openapi: 3.0.0
info:
  title: ElastiCache
  version: 1.0.0
paths: {}
components:
  schemas:
    LogDeliveryConfigurationRequest:
      type: object
      additionalProperties: false
      properties:
        LogType:
          type: string
        LogFormat:
          type: string
        DestinationType:
          type: string
        DestinationDetails:
          $ref: '#/components/schemas/DestinationDetails'
      required:
        - LogFormat
        - LogType
        - DestinationType
        - DestinationDetails
    KinesisFirehoseDestinationDetails:
      type: object
      additionalProperties: false
      properties:
        DeliveryStream:
          type: string
      required:
        - DeliveryStream
    CloudWatchLogsDestinationDetails:
      type: object
      additionalProperties: false
      properties:
        LogGroup:
          type: string
      required:
        - LogGroup
    Tag:
      description: A key-value pair to associate with a resource.
      type: object
      additionalProperties: false
      properties:
        Key:
          description: 'The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with ''aws:''. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.'
          type: string
          pattern: ^(?!aws:)[a-zA-Z0-9 _\.\/=+:\-@]*$
          minLength: 1
          maxLength: 128
        Value:
          description: 'The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.'
          type: string
          pattern: ^[a-zA-Z0-9 _\.\/=+:\-@]*$
          minLength: 0
          maxLength: 256
      required:
        - Key
    DestinationDetails:
      type: object
      additionalProperties: false
      properties:
        CloudWatchLogsDetails:
          $ref: '#/components/schemas/CloudWatchLogsDestinationDetails'
        KinesisFirehoseDetails:
          $ref: '#/components/schemas/KinesisFirehoseDestinationDetails'
    CacheCluster:
      type: object
      properties:
        CacheSecurityGroupNames:
          type: array
          uniqueItems: false
          items:
            type: string
        SnapshotArns:
          type: array
          uniqueItems: true
          items:
            type: string
        Port:
          type: integer
        ConfigurationEndpointAddress:
          type: string
        NotificationTopicArn:
          type: string
        NumCacheNodes:
          type: integer
        SnapshotName:
          type: string
        TransitEncryptionEnabled:
          type: boolean
        NetworkType:
          type: string
        PreferredAvailabilityZones:
          type: array
          uniqueItems: true
          items:
            type: string
        VpcSecurityGroupIds:
          type: array
          uniqueItems: false
          items:
            type: string
        ClusterName:
          type: string
        RedisEndpointAddress:
          type: string
        Engine:
          type: string
        Tags:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Tag'
        EngineVersion:
          type: string
        RedisEndpointPort:
          type: string
        CacheSubnetGroupName:
          type: string
        CacheParameterGroupName:
          type: string
        PreferredMaintenanceWindow:
          type: string
        AutoMinorVersionUpgrade:
          type: boolean
        PreferredAvailabilityZone:
          type: string
        SnapshotWindow:
          type: string
        CacheNodeType:
          type: string
        SnapshotRetentionLimit:
          type: integer
        ConfigurationEndpointPort:
          type: string
        IpDiscovery:
          type: string
        LogDeliveryConfigurations:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/LogDeliveryConfigurationRequest'
        Id:
          type: string
        AZMode:
          type: string
      required:
        - CacheNodeType
        - NumCacheNodes
        - Engine
      x-stackql-resource-name: cache_cluster
      x-stackql-primaryIdentifier:
        - Id
      x-create-only-properties:
        - Port
        - SnapshotArns
        - SnapshotName
        - CacheSubnetGroupName
        - ClusterName
        - NetworkType
        - Engine
      x-read-only-properties:
        - ConfigurationEndpoint.Address
        - Id
        - ConfigurationEndpoint.Port
        - RedisEndpoint.Port
        - RedisEndpoint.Address
    GlobalReplicationGroupMember:
      type: object
      additionalProperties: false
      properties:
        ReplicationGroupId:
          description: Regionally unique identifier for the member i.e. ReplicationGroupId.
          type: string
        ReplicationGroupRegion:
          description: The AWS region of the Global Datastore member.
          type: string
        Role:
          description: Indicates the role of the member, primary or secondary.
          type: string
          enum:
            - PRIMARY
            - SECONDARY
    ReshardingConfiguration:
      type: object
      additionalProperties: false
      properties:
        NodeGroupId:
          description: Unique identifier for the Node Group. This is either auto-generated by ElastiCache (4-digit id) or a user supplied id.
          type: string
        PreferredAvailabilityZones:
          description: A list of preferred availability zones for the nodes of new node groups.
          type: array
          uniqueItems: false
          items:
            type: string
    RegionalConfiguration:
      type: object
      additionalProperties: false
      properties:
        ReplicationGroupId:
          description: The replication group id of the Global Datastore member.
          type: string
        ReplicationGroupRegion:
          description: The AWS region of the Global Datastore member.
          type: string
        ReshardingConfigurations:
          description: 'A list of PreferredAvailabilityZones objects that specifies the configuration of a node group in the resharded cluster. '
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/ReshardingConfiguration'
    GlobalReplicationGroup:
      type: object
      properties:
        GlobalReplicationGroupIdSuffix:
          description: 'The suffix name of a Global Datastore. Amazon ElastiCache automatically applies a prefix to the Global Datastore ID when it is created. Each AWS Region has its own prefix. '
          type: string
        AutomaticFailoverEnabled:
          description: AutomaticFailoverEnabled
          type: boolean
        CacheNodeType:
          description: The cache node type of the Global Datastore
          type: string
        EngineVersion:
          description: The engine version of the Global Datastore.
          type: string
        CacheParameterGroupName:
          description: Cache parameter group name to use for the new engine version. This parameter cannot be modified independently.
          type: string
        GlobalNodeGroupCount:
          description: Indicates the number of node groups in the Global Datastore.
          type: integer
        GlobalReplicationGroupDescription:
          description: The optional description of the Global Datastore
          type: string
        GlobalReplicationGroupId:
          description: The name of the Global Datastore, it is generated by ElastiCache adding a prefix to GlobalReplicationGroupIdSuffix.
          type: string
        Members:
          description: The replication groups that comprise the Global Datastore.
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/GlobalReplicationGroupMember'
          minItems: 1
        Status:
          description: The status of the Global Datastore
          type: string
        RegionalConfigurations:
          description: 'Describes the replication group IDs, the AWS regions where they are stored and the shard configuration for each that comprise the Global Datastore '
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/RegionalConfiguration'
      required:
        - Members
      x-stackql-resource-name: global_replication_group
      x-stackql-primaryIdentifier:
        - GlobalReplicationGroupId
      x-read-only-properties:
        - GlobalReplicationGroupId
        - Status
      x-required-permissions:
        create:
          - elasticache:CreateGlobalReplicationGroup
          - elasticache:DescribeGlobalReplicationGroups
        read:
          - elasticache:DescribeGlobalReplicationGroups
        update:
          - elasticache:ModifyGlobalReplicationGroup
          - elasticache:FailoverGlobalReplicationGroup
          - elasticache:DescribeGlobalReplicationGroups
          - elasticache:IncreaseNodeGroupsInGlobalReplicationGroup
          - elasticache:DecreaseNodeGroupsInGlobalReplicationGroup
          - elasticache:DisassociateGlobalReplicationGroup
          - elasticache:RebalanceSlotsInGlobalReplicationGroup
        delete:
          - elasticache:DeleteGlobalReplicationGroup
          - elasticache:DisassociateGlobalReplicationGroup
          - elasticache:DescribeGlobalReplicationGroups
        list:
          - elasticache:DescribeGlobalReplicationGroups
    ParameterGroup:
      type: object
      properties:
        Description:
          type: string
        Id:
          type: string
        Properties:
          type: object
          x-patternProperties:
            '[a-zA-Z0-9]+':
              type: string
        Tags:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Tag'
        CacheParameterGroupFamily:
          type: string
      required:
        - Description
        - CacheParameterGroupFamily
      x-stackql-resource-name: parameter_group
      x-stackql-primaryIdentifier:
        - Id
      x-create-only-properties:
        - CacheParameterGroupFamily
      x-read-only-properties:
        - Id
    NodeGroupConfiguration:
      type: object
      additionalProperties: false
      properties:
        Slots:
          type: string
        PrimaryAvailabilityZone:
          type: string
        ReplicaAvailabilityZones:
          type: array
          uniqueItems: true
          items:
            type: string
        NodeGroupId:
          type: string
        ReplicaCount:
          type: integer
    ReplicationGroup:
      type: object
      properties:
        PreferredCacheClusterAZs:
          type: array
          uniqueItems: true
          items:
            type: string
        ReaderEndPointPort:
          type: string
        NodeGroupConfiguration:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/NodeGroupConfiguration'
        SnapshotArns:
          type: array
          uniqueItems: true
          items:
            type: string
        ConfigurationEndPointPort:
          type: string
        Port:
          type: integer
        NumNodeGroups:
          type: integer
        NotificationTopicArn:
          type: string
        AutomaticFailoverEnabled:
          type: boolean
        ReplicasPerNodeGroup:
          type: integer
        TransitEncryptionEnabled:
          type: boolean
        Engine:
          type: string
        Tags:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Tag'
        PrimaryEndPointAddress:
          type: string
        GlobalReplicationGroupId:
          type: string
        ConfigurationEndPointAddress:
          type: string
        EngineVersion:
          type: string
        KmsKeyId:
          type: string
        PrimaryClusterId:
          type: string
        ReadEndPointPorts:
          type: string
        AutoMinorVersionUpgrade:
          type: boolean
        SecurityGroupIds:
          type: array
          uniqueItems: true
          items:
            type: string
        SnapshotWindow:
          type: string
        TransitEncryptionMode:
          type: string
        SnapshotRetentionLimit:
          type: integer
        ReadEndPointAddressesList:
          type: array
          uniqueItems: false
          items:
            type: string
        SnapshottingClusterId:
          type: string
        IpDiscovery:
          type: string
        ReadEndPointAddresses:
          type: string
        PrimaryEndPointPort:
          type: string
        CacheSecurityGroupNames:
          type: array
          uniqueItems: true
          items:
            type: string
        ClusterMode:
          type: string
        ReadEndPointPortsList:
          type: array
          uniqueItems: false
          items:
            type: string
        SnapshotName:
          type: string
        ReplicationGroupDescription:
          type: string
        ReaderEndPointAddress:
          type: string
        MultiAZEnabled:
          type: boolean
        NetworkType:
          type: string
        ReplicationGroupId:
          type: string
        NumCacheClusters:
          type: integer
        CacheSubnetGroupName:
          type: string
        CacheParameterGroupName:
          type: string
        PreferredMaintenanceWindow:
          type: string
        AtRestEncryptionEnabled:
          type: boolean
        CacheNodeType:
          type: string
        UserGroupIds:
          type: array
          uniqueItems: true
          items:
            type: string
        AuthToken:
          type: string
        DataTieringEnabled:
          type: boolean
        LogDeliveryConfigurations:
          type: array
          uniqueItems: true
          items:
            $ref: '#/components/schemas/LogDeliveryConfigurationRequest'
      required:
        - ReplicationGroupDescription
      x-stackql-resource-name: replication_group
      x-stackql-primaryIdentifier:
        - ReplicationGroupId
      x-create-only-properties:
        - KmsKeyId
        - Port
        - SnapshotArns
        - CacheSubnetGroupName
        - NetworkType
        - DataTieringEnabled
        - AtRestEncryptionEnabled
        - ReplicationGroupId
        - GlobalReplicationGroupId
        - ReplicasPerNodeGroup
        - PreferredCacheClusterAZs
        - SnapshotName
        - Engine
      x-read-only-properties:
        - ConfigurationEndPoint.Address
        - PrimaryEndPoint.Address
        - PrimaryEndPoint.Port
        - ReaderEndPoint.Address
        - ConfigurationEndPoint.Port
        - ReadEndPoint.Addresses.List
        - ReadEndPoint.Ports.List
        - ReaderEndPoint.Port
        - ReadEndPoint.Addresses
        - ReadEndPoint.Ports
        - ReplicationGroupId
    SecurityGroup:
      type: object
      properties:
        Tags:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Tag'
        Description:
          type: string
        Id:
          type: string
      required:
        - Description
      x-stackql-resource-name: security_group
      x-stackql-primaryIdentifier:
        - Id
      x-read-only-properties:
        - Id
    SecurityGroupIngress:
      type: object
      properties:
        Id:
          type: string
        CacheSecurityGroupName:
          type: string
        EC2SecurityGroupName:
          type: string
        EC2SecurityGroupOwnerId:
          type: string
      required:
        - EC2SecurityGroupName
        - CacheSecurityGroupName
      x-stackql-resource-name: security_group_ingress
      x-stackql-primaryIdentifier:
        - Id
      x-read-only-properties:
        - Id
    CacheUsageLimits:
      description: The cache capacity limit of the Serverless Cache.
      type: object
      properties:
        DataStorage:
          $ref: '#/components/schemas/DataStorage'
        ECPUPerSecond:
          $ref: '#/components/schemas/ECPUPerSecond'
      additionalProperties: false
    DataStorage:
      description: The cached data capacity of the Serverless Cache.
      type: object
      properties:
        Maximum:
          description: The maximum cached data capacity of the Serverless Cache.
          type: integer
        Unit:
          description: The unix of cached data capacity of the Serverless Cache.
          type: string
          enum:
            - GB
      additionalProperties: false
      required:
        - Maximum
        - Unit
    ECPUPerSecond:
      description: The ECPU per second of the Serverless Cache.
      type: object
      properties:
        Maximum:
          description: The maximum ECPU per second of the Serverless Cache.
          type: integer
      additionalProperties: false
      required:
        - Maximum
    Endpoint:
      description: The address and the port.
      type: object
      properties:
        Address:
          description: Endpoint address.
          type: string
        Port:
          description: Endpoint port.
          type: string
      additionalProperties: false
    ServerlessCache:
      type: object
      properties:
        ServerlessCacheName:
          description: The name of the Serverless Cache. This value must be unique.
          type: string
        Description:
          description: The description of the Serverless Cache.
          type: string
        Engine:
          description: The engine name of the Serverless Cache.
          type: string
        MajorEngineVersion:
          description: The major engine version of the Serverless Cache.
          type: string
        FullEngineVersion:
          description: The full engine version of the Serverless Cache.
          type: string
        CacheUsageLimits:
          $ref: '#/components/schemas/CacheUsageLimits'
        KmsKeyId:
          description: The ID of the KMS key used to encrypt the cluster.
          type: string
        SecurityGroupIds:
          description: One or more Amazon VPC security groups associated with this Serverless Cache.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
        SnapshotArnsToRestore:
          description: The ARN's of snapshot to restore Serverless Cache.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
        Tags:
          description: An array of key-value pairs to apply to this Serverless Cache.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
        UserGroupId:
          description: The ID of the user group.
          type: string
        SubnetIds:
          description: The subnet id's of the Serverless Cache.
          type: array
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
        SnapshotRetentionLimit:
          description: The snapshot retention limit of the Serverless Cache.
          type: integer
        DailySnapshotTime:
          description: The daily time range (in UTC) during which the service takes automatic snapshot of the Serverless Cache.
          type: string
        CreateTime:
          description: The creation time of the Serverless Cache.
          type: string
        Status:
          description: The status of the Serverless Cache.
          type: string
        Endpoint:
          $ref: '#/components/schemas/Endpoint'
        ReaderEndpoint:
          $ref: '#/components/schemas/Endpoint'
        ARN:
          description: The ARN of the Serverless Cache.
          type: string
        FinalSnapshotName:
          description: The final snapshot name which is taken before Serverless Cache is deleted.
          type: string
      required:
        - ServerlessCacheName
        - Engine
      x-stackql-resource-name: serverless_cache
      x-stackql-primaryIdentifier:
        - ServerlessCacheName
      x-create-only-properties:
        - ServerlessCacheName
        - Engine
        - MajorEngineVersion
        - KmsKeyId
        - SnapshotArnsToRestore
        - SubnetIds
      x-read-only-properties:
        - FullEngineVersion
        - CreateTime
        - Status
        - Endpoint/Address
        - Endpoint/Port
        - ReaderEndpoint/Address
        - ReaderEndpoint/Port
        - ARN
      x-required-permissions:
        create:
          - elasticache:CreateServerlessCache
          - elasticache:DescribeServerlessCaches
          - elasticache:AddTagsToResource
          - elasticache:ListTagsForResource
          - ec2:CreateTags
          - ec2:CreateVpcEndpoint
          - kms:CreateGrant
          - kms:DescribeKey
        read:
          - elasticache:DescribeServerlessCaches
          - elasticache:ListTagsForResource
        update:
          - elasticache:ModifyServerlessCache
          - elasticache:DescribeServerlessCaches
          - elasticache:AddTagsToResource
          - elasticache:ListTagsForResource
          - elasticache:RemoveTagsFromResource
        delete:
          - elasticache:DeleteServerlessCache
          - elasticache:DescribeServerlessCaches
          - elasticache:ListTagsForResource
        list:
          - elasticache:DescribeServerlessCaches
          - elasticache:ListTagsForResource
    SubnetGroup:
      type: object
      properties:
        Description:
          type: string
          description: The description for the cache subnet group.
        SubnetIds:
          description: The EC2 subnet IDs for the cache subnet group.
          type: array
          items:
            type: string
          x-insertionOrder: false
          uniqueItems: false
        CacheSubnetGroupName:
          type: string
          description: The name for the cache subnet group. This value is stored as a lowercase string.
        Tags:
          type: array
          uniqueItems: false
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - Description
        - SubnetIds
      x-stackql-resource-name: subnet_group
      x-stackql-primaryIdentifier:
        - CacheSubnetGroupName
      x-create-only-properties:
        - CacheSubnetGroupName
      x-required-permissions:
        create:
          - elasticache:CreateCacheSubnetGroup
          - elasticache:AddTagsToResource
          - elasticache:DescribeCacheSubnetGroups
          - elasticache:ListTagsForResource
        read:
          - elasticache:DescribeCacheSubnetGroups
          - elasticache:ListTagsForResource
        delete:
          - elasticache:DeleteCacheSubnetGroup
          - elasticache:DescribeCacheSubnetGroups
          - elasticache:ListTagsForResource
        list:
          - elasticache:DescribeCacheSubnetGroups
        update:
          - elasticache:ModifyCacheSubnetGroup
          - elasticache:DescribeCacheSubnetGroups
          - elasticache:AddTagsToResource
          - elasticache:RemoveTagsFromResource
    User:
      type: object
      properties:
        Status:
          description: Indicates the user status. Can be "active", "modifying" or "deleting".
          type: string
        UserId:
          description: The ID of the user.
          pattern: '[a-z][a-z0-9\\-]*'
          type: string
        UserName:
          description: The username of the user.
          type: string
        Engine:
          description: Must be redis.
          type: string
          enum:
            - redis
        AccessString:
          description: Access permissions string used for this user account.
          type: string
        NoPasswordRequired:
          description: Indicates a password is not required for this user account.
          type: boolean
        Passwords:
          type: array
          x-$comment: List of passwords.
          uniqueItems: true
          x-insertionOrder: true
          items:
            type: string
          description: Passwords used for this user account. You can create up to two passwords for each user.
        Arn:
          description: The Amazon Resource Name (ARN) of the user account.
          type: string
        AuthenticationMode:
          type: object
          additionalProperties: false
          properties:
            Type:
              description: Authentication Type
              type: string
              enum:
                - password
                - no-password-required
                - iam
            Passwords:
              type: array
              x-$comment: List of passwords.
              uniqueItems: true
              x-insertionOrder: true
              items:
                type: string
              description: Passwords used for this user account. You can create up to two passwords for each user.
          required:
            - Type
        Tags:
          description: An array of key-value pairs to apply to this user.
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - UserId
        - UserName
        - Engine
      x-stackql-resource-name: user
      x-stackql-primaryIdentifier:
        - UserId
      x-create-only-properties:
        - UserId
        - UserName
        - Engine
      x-read-only-properties:
        - Status
        - Arn
      x-required-permissions:
        create:
          - elasticache:CreateUser
          - elasticache:DescribeUsers
          - elasticache:ListTagsForResource
        read:
          - elasticache:DescribeUsers
          - elasticache:ListTagsForResource
        update:
          - elasticache:ModifyUser
          - elasticache:DescribeUsers
          - elasticache:ListTagsForResource
          - elasticache:AddTagsToResource
          - elasticache:RemoveTagsFromResource
        delete:
          - elasticache:DeleteUser
          - elasticache:DescribeUsers
        list:
          - elasticache:DescribeUsers
          - elasticache:ListTagsForResource
    UserGroup:
      type: object
      properties:
        Status:
          description: Indicates user group status. Can be "creating", "active", "modifying", "deleting".
          type: string
        UserGroupId:
          description: The ID of the user group.
          pattern: '[a-z][a-z0-9\\-]*'
          type: string
        Engine:
          description: Must be redis.
          type: string
          enum:
            - redis
        UserIds:
          type: array
          x-$comment: List of users.
          uniqueItems: true
          x-insertionOrder: false
          items:
            type: string
          description: List of users associated to this user group.
        Arn:
          description: The Amazon Resource Name (ARN) of the user account.
          type: string
        Tags:
          description: An array of key-value pairs to apply to this user.
          type: array
          maxItems: 50
          uniqueItems: true
          x-insertionOrder: false
          items:
            $ref: '#/components/schemas/Tag'
      required:
        - UserGroupId
        - Engine
        - UserIds
      x-stackql-resource-name: user_group
      x-stackql-primaryIdentifier:
        - UserGroupId
      x-create-only-properties:
        - UserGroupId
        - Engine
      x-read-only-properties:
        - Status
        - Arn
      x-required-permissions:
        create:
          - elasticache:CreateUserGroup
          - elasticache:DescribeUserGroups
          - elasticache:ListTagsForResource
        read:
          - elasticache:DescribeUserGroups
          - elasticache:ListTagsForResource
        update:
          - elasticache:ModifyUserGroup
          - elasticache:DescribeUserGroups
          - elasticache:ListTagsForResource
          - elasticache:AddTagsToResource
          - elasticache:RemoveTagsFromResource
        delete:
          - elasticache:ModifyReplicationGroup
          - elasticache:DeleteUserGroup
          - elasticache:DescribeUserGroups
          - elasticache:ListTagsForResource
        list:
          - elasticache:DescribeUserGroups
          - elasticache:ListTagsForResource
  x-stackQL-resources:
    cache_clusters:
      name: cache_clusters
      id: aws.elasticache.cache_clusters
      x-cfn-schema-name: CacheCluster
      x-type: list
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as 
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::CacheCluster'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as 
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::CacheCluster'
    cache_cluster:
      name: cache_cluster
      id: aws.elasticache.cache_cluster
      x-cfn-schema-name: CacheCluster
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.CacheSecurityGroupNames') as cache_security_group_names,
              JSON_EXTRACT(Properties, '$.SnapshotArns') as snapshot_arns,
              JSON_EXTRACT(Properties, '$.Port') as port,
              JSON_EXTRACT(Properties, '$.ConfigurationEndpointAddress') as configuration_endpoint_address,
              JSON_EXTRACT(Properties, '$.NotificationTopicArn') as notification_topic_arn,
              JSON_EXTRACT(Properties, '$.NumCacheNodes') as num_cache_nodes,
              JSON_EXTRACT(Properties, '$.SnapshotName') as snapshot_name,
              JSON_EXTRACT(Properties, '$.TransitEncryptionEnabled') as transit_encryption_enabled,
              JSON_EXTRACT(Properties, '$.NetworkType') as network_type,
              JSON_EXTRACT(Properties, '$.PreferredAvailabilityZones') as preferred_availability_zones,
              JSON_EXTRACT(Properties, '$.VpcSecurityGroupIds') as vpc_security_group_ids,
              JSON_EXTRACT(Properties, '$.ClusterName') as cluster_name,
              JSON_EXTRACT(Properties, '$.RedisEndpointAddress') as redis_endpoint_address,
              JSON_EXTRACT(Properties, '$.Engine') as engine,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.EngineVersion') as engine_version,
              JSON_EXTRACT(Properties, '$.RedisEndpointPort') as redis_endpoint_port,
              JSON_EXTRACT(Properties, '$.CacheSubnetGroupName') as cache_subnet_group_name,
              JSON_EXTRACT(Properties, '$.CacheParameterGroupName') as cache_parameter_group_name,
              JSON_EXTRACT(Properties, '$.PreferredMaintenanceWindow') as preferred_maintenance_window,
              JSON_EXTRACT(Properties, '$.AutoMinorVersionUpgrade') as auto_minor_version_upgrade,
              JSON_EXTRACT(Properties, '$.PreferredAvailabilityZone') as preferred_availability_zone,
              JSON_EXTRACT(Properties, '$.SnapshotWindow') as snapshot_window,
              JSON_EXTRACT(Properties, '$.CacheNodeType') as cache_node_type,
              JSON_EXTRACT(Properties, '$.SnapshotRetentionLimit') as snapshot_retention_limit,
              JSON_EXTRACT(Properties, '$.ConfigurationEndpointPort') as configuration_endpoint_port,
              JSON_EXTRACT(Properties, '$.IpDiscovery') as ip_discovery,
              JSON_EXTRACT(Properties, '$.LogDeliveryConfigurations') as log_delivery_configurations,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.AZMode') as a_zmode
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::CacheCluster'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'CacheSecurityGroupNames') as cache_security_group_names,
                json_extract_path_text(Properties, 'SnapshotArns') as snapshot_arns,
                json_extract_path_text(Properties, 'Port') as port,
                json_extract_path_text(Properties, 'ConfigurationEndpointAddress') as configuration_endpoint_address,
                json_extract_path_text(Properties, 'NotificationTopicArn') as notification_topic_arn,
                json_extract_path_text(Properties, 'NumCacheNodes') as num_cache_nodes,
                json_extract_path_text(Properties, 'SnapshotName') as snapshot_name,
                json_extract_path_text(Properties, 'TransitEncryptionEnabled') as transit_encryption_enabled,
                json_extract_path_text(Properties, 'NetworkType') as network_type,
                json_extract_path_text(Properties, 'PreferredAvailabilityZones') as preferred_availability_zones,
                json_extract_path_text(Properties, 'VpcSecurityGroupIds') as vpc_security_group_ids,
                json_extract_path_text(Properties, 'ClusterName') as cluster_name,
                json_extract_path_text(Properties, 'RedisEndpointAddress') as redis_endpoint_address,
                json_extract_path_text(Properties, 'Engine') as engine,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'EngineVersion') as engine_version,
                json_extract_path_text(Properties, 'RedisEndpointPort') as redis_endpoint_port,
                json_extract_path_text(Properties, 'CacheSubnetGroupName') as cache_subnet_group_name,
                json_extract_path_text(Properties, 'CacheParameterGroupName') as cache_parameter_group_name,
                json_extract_path_text(Properties, 'PreferredMaintenanceWindow') as preferred_maintenance_window,
                json_extract_path_text(Properties, 'AutoMinorVersionUpgrade') as auto_minor_version_upgrade,
                json_extract_path_text(Properties, 'PreferredAvailabilityZone') as preferred_availability_zone,
                json_extract_path_text(Properties, 'SnapshotWindow') as snapshot_window,
                json_extract_path_text(Properties, 'CacheNodeType') as cache_node_type,
                json_extract_path_text(Properties, 'SnapshotRetentionLimit') as snapshot_retention_limit,
                json_extract_path_text(Properties, 'ConfigurationEndpointPort') as configuration_endpoint_port,
                json_extract_path_text(Properties, 'IpDiscovery') as ip_discovery,
                json_extract_path_text(Properties, 'LogDeliveryConfigurations') as log_delivery_configurations,
                json_extract_path_text(Properties, 'Id') as id,
                json_extract_path_text(Properties, 'AZMode') as a_zmode
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::CacheCluster'
    global_replication_groups:
      name: global_replication_groups
      id: aws.elasticache.global_replication_groups
      x-cfn-schema-name: GlobalReplicationGroup
      x-type: list
      x-identifiers:
        - GlobalReplicationGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.GlobalReplicationGroupId') as global_replication_group_
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::GlobalReplicationGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'GlobalReplicationGroupId') as global_replication_group_
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::GlobalReplicationGroup'
    global_replication_group:
      name: global_replication_group
      id: aws.elasticache.global_replication_group
      x-cfn-schema-name: GlobalReplicationGroup
      x-type: get
      x-identifiers:
        - GlobalReplicationGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.GlobalReplicationGroupIdSuffix') as global_replication_group_id_suffix,
              JSON_EXTRACT(Properties, '$.AutomaticFailoverEnabled') as automatic_failover_enabled,
              JSON_EXTRACT(Properties, '$.CacheNodeType') as cache_node_type,
              JSON_EXTRACT(Properties, '$.EngineVersion') as engine_version,
              JSON_EXTRACT(Properties, '$.CacheParameterGroupName') as cache_parameter_group_name,
              JSON_EXTRACT(Properties, '$.GlobalNodeGroupCount') as global_node_group_count,
              JSON_EXTRACT(Properties, '$.GlobalReplicationGroupDescription') as global_replication_group_description,
              JSON_EXTRACT(Properties, '$.GlobalReplicationGroupId') as global_replication_group_id,
              JSON_EXTRACT(Properties, '$.Members') as members,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.RegionalConfigurations') as regional_configurations
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::GlobalReplicationGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'GlobalReplicationGroupIdSuffix') as global_replication_group_id_suffix,
                json_extract_path_text(Properties, 'AutomaticFailoverEnabled') as automatic_failover_enabled,
                json_extract_path_text(Properties, 'CacheNodeType') as cache_node_type,
                json_extract_path_text(Properties, 'EngineVersion') as engine_version,
                json_extract_path_text(Properties, 'CacheParameterGroupName') as cache_parameter_group_name,
                json_extract_path_text(Properties, 'GlobalNodeGroupCount') as global_node_group_count,
                json_extract_path_text(Properties, 'GlobalReplicationGroupDescription') as global_replication_group_description,
                json_extract_path_text(Properties, 'GlobalReplicationGroupId') as global_replication_group_id,
                json_extract_path_text(Properties, 'Members') as members,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'RegionalConfigurations') as regional_configurations
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::GlobalReplicationGroup'
    parameter_groups:
      name: parameter_groups
      id: aws.elasticache.parameter_groups
      x-cfn-schema-name: ParameterGroup
      x-type: list
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as 
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ParameterGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as 
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ParameterGroup'
    parameter_group:
      name: parameter_group
      id: aws.elasticache.parameter_group
      x-cfn-schema-name: ParameterGroup
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.Properties') as properties,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.CacheParameterGroupFamily') as cache_parameter_group_family
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ParameterGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Id') as id,
                json_extract_path_text(Properties, 'Properties') as properties,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'CacheParameterGroupFamily') as cache_parameter_group_family
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ParameterGroup'
    replication_groups:
      name: replication_groups
      id: aws.elasticache.replication_groups
      x-cfn-schema-name: ReplicationGroup
      x-type: list
      x-identifiers:
        - ReplicationGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ReplicationGroupId') as replication_group_
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ReplicationGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'ReplicationGroupId') as replication_group_
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ReplicationGroup'
    replication_group:
      name: replication_group
      id: aws.elasticache.replication_group
      x-cfn-schema-name: ReplicationGroup
      x-type: get
      x-identifiers:
        - ReplicationGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.PreferredCacheClusterAZs') as preferred_cache_cluster_azs,
              JSON_EXTRACT(Properties, '$.ReaderEndPointPort') as reader_end_point_port,
              JSON_EXTRACT(Properties, '$.NodeGroupConfiguration') as node_group_configuration,
              JSON_EXTRACT(Properties, '$.SnapshotArns') as snapshot_arns,
              JSON_EXTRACT(Properties, '$.ConfigurationEndPointPort') as configuration_end_point_port,
              JSON_EXTRACT(Properties, '$.Port') as port,
              JSON_EXTRACT(Properties, '$.NumNodeGroups') as num_node_groups,
              JSON_EXTRACT(Properties, '$.NotificationTopicArn') as notification_topic_arn,
              JSON_EXTRACT(Properties, '$.AutomaticFailoverEnabled') as automatic_failover_enabled,
              JSON_EXTRACT(Properties, '$.ReplicasPerNodeGroup') as replicas_per_node_group,
              JSON_EXTRACT(Properties, '$.TransitEncryptionEnabled') as transit_encryption_enabled,
              JSON_EXTRACT(Properties, '$.Engine') as engine,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.PrimaryEndPointAddress') as primary_end_point_address,
              JSON_EXTRACT(Properties, '$.GlobalReplicationGroupId') as global_replication_group_id,
              JSON_EXTRACT(Properties, '$.ConfigurationEndPointAddress') as configuration_end_point_address,
              JSON_EXTRACT(Properties, '$.EngineVersion') as engine_version,
              JSON_EXTRACT(Properties, '$.KmsKeyId') as kms_key_id,
              JSON_EXTRACT(Properties, '$.PrimaryClusterId') as primary_cluster_id,
              JSON_EXTRACT(Properties, '$.ReadEndPointPorts') as read_end_point_ports,
              JSON_EXTRACT(Properties, '$.AutoMinorVersionUpgrade') as auto_minor_version_upgrade,
              JSON_EXTRACT(Properties, '$.SecurityGroupIds') as security_group_ids,
              JSON_EXTRACT(Properties, '$.SnapshotWindow') as snapshot_window,
              JSON_EXTRACT(Properties, '$.TransitEncryptionMode') as transit_encryption_mode,
              JSON_EXTRACT(Properties, '$.SnapshotRetentionLimit') as snapshot_retention_limit,
              JSON_EXTRACT(Properties, '$.ReadEndPointAddressesList') as read_end_point_addresses_list,
              JSON_EXTRACT(Properties, '$.SnapshottingClusterId') as snapshotting_cluster_id,
              JSON_EXTRACT(Properties, '$.IpDiscovery') as ip_discovery,
              JSON_EXTRACT(Properties, '$.ReadEndPointAddresses') as read_end_point_addresses,
              JSON_EXTRACT(Properties, '$.PrimaryEndPointPort') as primary_end_point_port,
              JSON_EXTRACT(Properties, '$.CacheSecurityGroupNames') as cache_security_group_names,
              JSON_EXTRACT(Properties, '$.ClusterMode') as cluster_mode,
              JSON_EXTRACT(Properties, '$.ReadEndPointPortsList') as read_end_point_ports_list,
              JSON_EXTRACT(Properties, '$.SnapshotName') as snapshot_name,
              JSON_EXTRACT(Properties, '$.ReplicationGroupDescription') as replication_group_description,
              JSON_EXTRACT(Properties, '$.ReaderEndPointAddress') as reader_end_point_address,
              JSON_EXTRACT(Properties, '$.MultiAZEnabled') as multi_az_enabled,
              JSON_EXTRACT(Properties, '$.NetworkType') as network_type,
              JSON_EXTRACT(Properties, '$.ReplicationGroupId') as replication_group_id,
              JSON_EXTRACT(Properties, '$.NumCacheClusters') as num_cache_clusters,
              JSON_EXTRACT(Properties, '$.CacheSubnetGroupName') as cache_subnet_group_name,
              JSON_EXTRACT(Properties, '$.CacheParameterGroupName') as cache_parameter_group_name,
              JSON_EXTRACT(Properties, '$.PreferredMaintenanceWindow') as preferred_maintenance_window,
              JSON_EXTRACT(Properties, '$.AtRestEncryptionEnabled') as at_rest_encryption_enabled,
              JSON_EXTRACT(Properties, '$.CacheNodeType') as cache_node_type,
              JSON_EXTRACT(Properties, '$.UserGroupIds') as user_group_ids,
              JSON_EXTRACT(Properties, '$.AuthToken') as auth_token,
              JSON_EXTRACT(Properties, '$.DataTieringEnabled') as data_tiering_enabled,
              JSON_EXTRACT(Properties, '$.LogDeliveryConfigurations') as log_delivery_configurations
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ReplicationGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'PreferredCacheClusterAZs') as preferred_cache_cluster_azs,
                json_extract_path_text(Properties, 'ReaderEndPointPort') as reader_end_point_port,
                json_extract_path_text(Properties, 'NodeGroupConfiguration') as node_group_configuration,
                json_extract_path_text(Properties, 'SnapshotArns') as snapshot_arns,
                json_extract_path_text(Properties, 'ConfigurationEndPointPort') as configuration_end_point_port,
                json_extract_path_text(Properties, 'Port') as port,
                json_extract_path_text(Properties, 'NumNodeGroups') as num_node_groups,
                json_extract_path_text(Properties, 'NotificationTopicArn') as notification_topic_arn,
                json_extract_path_text(Properties, 'AutomaticFailoverEnabled') as automatic_failover_enabled,
                json_extract_path_text(Properties, 'ReplicasPerNodeGroup') as replicas_per_node_group,
                json_extract_path_text(Properties, 'TransitEncryptionEnabled') as transit_encryption_enabled,
                json_extract_path_text(Properties, 'Engine') as engine,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'PrimaryEndPointAddress') as primary_end_point_address,
                json_extract_path_text(Properties, 'GlobalReplicationGroupId') as global_replication_group_id,
                json_extract_path_text(Properties, 'ConfigurationEndPointAddress') as configuration_end_point_address,
                json_extract_path_text(Properties, 'EngineVersion') as engine_version,
                json_extract_path_text(Properties, 'KmsKeyId') as kms_key_id,
                json_extract_path_text(Properties, 'PrimaryClusterId') as primary_cluster_id,
                json_extract_path_text(Properties, 'ReadEndPointPorts') as read_end_point_ports,
                json_extract_path_text(Properties, 'AutoMinorVersionUpgrade') as auto_minor_version_upgrade,
                json_extract_path_text(Properties, 'SecurityGroupIds') as security_group_ids,
                json_extract_path_text(Properties, 'SnapshotWindow') as snapshot_window,
                json_extract_path_text(Properties, 'TransitEncryptionMode') as transit_encryption_mode,
                json_extract_path_text(Properties, 'SnapshotRetentionLimit') as snapshot_retention_limit,
                json_extract_path_text(Properties, 'ReadEndPointAddressesList') as read_end_point_addresses_list,
                json_extract_path_text(Properties, 'SnapshottingClusterId') as snapshotting_cluster_id,
                json_extract_path_text(Properties, 'IpDiscovery') as ip_discovery,
                json_extract_path_text(Properties, 'ReadEndPointAddresses') as read_end_point_addresses,
                json_extract_path_text(Properties, 'PrimaryEndPointPort') as primary_end_point_port,
                json_extract_path_text(Properties, 'CacheSecurityGroupNames') as cache_security_group_names,
                json_extract_path_text(Properties, 'ClusterMode') as cluster_mode,
                json_extract_path_text(Properties, 'ReadEndPointPortsList') as read_end_point_ports_list,
                json_extract_path_text(Properties, 'SnapshotName') as snapshot_name,
                json_extract_path_text(Properties, 'ReplicationGroupDescription') as replication_group_description,
                json_extract_path_text(Properties, 'ReaderEndPointAddress') as reader_end_point_address,
                json_extract_path_text(Properties, 'MultiAZEnabled') as multi_az_enabled,
                json_extract_path_text(Properties, 'NetworkType') as network_type,
                json_extract_path_text(Properties, 'ReplicationGroupId') as replication_group_id,
                json_extract_path_text(Properties, 'NumCacheClusters') as num_cache_clusters,
                json_extract_path_text(Properties, 'CacheSubnetGroupName') as cache_subnet_group_name,
                json_extract_path_text(Properties, 'CacheParameterGroupName') as cache_parameter_group_name,
                json_extract_path_text(Properties, 'PreferredMaintenanceWindow') as preferred_maintenance_window,
                json_extract_path_text(Properties, 'AtRestEncryptionEnabled') as at_rest_encryption_enabled,
                json_extract_path_text(Properties, 'CacheNodeType') as cache_node_type,
                json_extract_path_text(Properties, 'UserGroupIds') as user_group_ids,
                json_extract_path_text(Properties, 'AuthToken') as auth_token,
                json_extract_path_text(Properties, 'DataTieringEnabled') as data_tiering_enabled,
                json_extract_path_text(Properties, 'LogDeliveryConfigurations') as log_delivery_configurations
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ReplicationGroup'
    security_groups:
      name: security_groups
      id: aws.elasticache.security_groups
      x-cfn-schema-name: SecurityGroup
      x-type: list
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as 
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as 
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroup'
    security_group:
      name: security_group
      id: aws.elasticache.security_group
      x-cfn-schema-name: SecurityGroup
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Id') as id
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Id') as id
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroup'
    security_group_ingresses:
      name: security_group_ingresses
      id: aws.elasticache.security_group_ingresses
      x-cfn-schema-name: SecurityGroupIngress
      x-type: list
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as 
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroupIngress'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as 
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroupIngress'
    security_group_ingress:
      name: security_group_ingress
      id: aws.elasticache.security_group_ingress
      x-cfn-schema-name: SecurityGroupIngress
      x-type: get
      x-identifiers:
        - Id
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.CacheSecurityGroupName') as cache_security_group_name,
              JSON_EXTRACT(Properties, '$.EC2SecurityGroupName') as e_c2_security_group_name,
              JSON_EXTRACT(Properties, '$.EC2SecurityGroupOwnerId') as e_c2_security_group_owner_id
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroupIngress'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Id') as id,
                json_extract_path_text(Properties, 'CacheSecurityGroupName') as cache_security_group_name,
                json_extract_path_text(Properties, 'EC2SecurityGroupName') as e_c2_security_group_name,
                json_extract_path_text(Properties, 'EC2SecurityGroupOwnerId') as e_c2_security_group_owner_id
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SecurityGroupIngress'
    serverless_caches:
      name: serverless_caches
      id: aws.elasticache.serverless_caches
      x-cfn-schema-name: ServerlessCache
      x-type: list
      x-identifiers:
        - ServerlessCacheName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ServerlessCacheName') as serverless_cache_na
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ServerlessCache'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'ServerlessCacheName') as serverless_cache_na
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::ServerlessCache'
    serverless_cache:
      name: serverless_cache
      id: aws.elasticache.serverless_cache
      x-cfn-schema-name: ServerlessCache
      x-type: get
      x-identifiers:
        - ServerlessCacheName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.ServerlessCacheName') as serverless_cache_name,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.Engine') as engine,
              JSON_EXTRACT(Properties, '$.MajorEngineVersion') as major_engine_version,
              JSON_EXTRACT(Properties, '$.FullEngineVersion') as full_engine_version,
              JSON_EXTRACT(Properties, '$.CacheUsageLimits') as cache_usage_limits,
              JSON_EXTRACT(Properties, '$.KmsKeyId') as kms_key_id,
              JSON_EXTRACT(Properties, '$.SecurityGroupIds') as security_group_ids,
              JSON_EXTRACT(Properties, '$.SnapshotArnsToRestore') as snapshot_arns_to_restore,
              JSON_EXTRACT(Properties, '$.Tags') as tags,
              JSON_EXTRACT(Properties, '$.UserGroupId') as user_group_id,
              JSON_EXTRACT(Properties, '$.SubnetIds') as subnet_ids,
              JSON_EXTRACT(Properties, '$.SnapshotRetentionLimit') as snapshot_retention_limit,
              JSON_EXTRACT(Properties, '$.DailySnapshotTime') as daily_snapshot_time,
              JSON_EXTRACT(Properties, '$.CreateTime') as create_time,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.Endpoint') as endpoint,
              JSON_EXTRACT(Properties, '$.ReaderEndpoint') as reader_endpoint,
              JSON_EXTRACT(Properties, '$.ARN') as a_rn,
              JSON_EXTRACT(Properties, '$.FinalSnapshotName') as final_snapshot_name
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ServerlessCache'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'ServerlessCacheName') as serverless_cache_name,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'Engine') as engine,
                json_extract_path_text(Properties, 'MajorEngineVersion') as major_engine_version,
                json_extract_path_text(Properties, 'FullEngineVersion') as full_engine_version,
                json_extract_path_text(Properties, 'CacheUsageLimits') as cache_usage_limits,
                json_extract_path_text(Properties, 'KmsKeyId') as kms_key_id,
                json_extract_path_text(Properties, 'SecurityGroupIds') as security_group_ids,
                json_extract_path_text(Properties, 'SnapshotArnsToRestore') as snapshot_arns_to_restore,
                json_extract_path_text(Properties, 'Tags') as tags,
                json_extract_path_text(Properties, 'UserGroupId') as user_group_id,
                json_extract_path_text(Properties, 'SubnetIds') as subnet_ids,
                json_extract_path_text(Properties, 'SnapshotRetentionLimit') as snapshot_retention_limit,
                json_extract_path_text(Properties, 'DailySnapshotTime') as daily_snapshot_time,
                json_extract_path_text(Properties, 'CreateTime') as create_time,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'Endpoint') as endpoint,
                json_extract_path_text(Properties, 'ReaderEndpoint') as reader_endpoint,
                json_extract_path_text(Properties, 'ARN') as a_rn,
                json_extract_path_text(Properties, 'FinalSnapshotName') as final_snapshot_name
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::ServerlessCache'
    subnet_groups:
      name: subnet_groups
      id: aws.elasticache.subnet_groups
      x-cfn-schema-name: SubnetGroup
      x-type: list
      x-identifiers:
        - CacheSubnetGroupName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.CacheSubnetGroupName') as cache_subnet_group_na
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SubnetGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'CacheSubnetGroupName') as cache_subnet_group_na
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::SubnetGroup'
    subnet_group:
      name: subnet_group
      id: aws.elasticache.subnet_group
      x-cfn-schema-name: SubnetGroup
      x-type: get
      x-identifiers:
        - CacheSubnetGroupName
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Description') as description,
              JSON_EXTRACT(Properties, '$.SubnetIds') as subnet_ids,
              JSON_EXTRACT(Properties, '$.CacheSubnetGroupName') as cache_subnet_group_name,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SubnetGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Description') as description,
                json_extract_path_text(Properties, 'SubnetIds') as subnet_ids,
                json_extract_path_text(Properties, 'CacheSubnetGroupName') as cache_subnet_group_name,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::SubnetGroup'
    users:
      name: users
      id: aws.elasticache.users
      x-cfn-schema-name: User
      x-type: list
      x-identifiers:
        - UserId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.UserId') as user_
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::User'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'UserId') as user_
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::User'
    user:
      name: user
      id: aws.elasticache.user
      x-cfn-schema-name: User
      x-type: get
      x-identifiers:
        - UserId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.UserId') as user_id,
              JSON_EXTRACT(Properties, '$.UserName') as user_name,
              JSON_EXTRACT(Properties, '$.Engine') as engine,
              JSON_EXTRACT(Properties, '$.AccessString') as access_string,
              JSON_EXTRACT(Properties, '$.NoPasswordRequired') as no_password_required,
              JSON_EXTRACT(Properties, '$.Passwords') as passwords,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.AuthenticationMode') as authentication_mode,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::User'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'UserId') as user_id,
                json_extract_path_text(Properties, 'UserName') as user_name,
                json_extract_path_text(Properties, 'Engine') as engine,
                json_extract_path_text(Properties, 'AccessString') as access_string,
                json_extract_path_text(Properties, 'NoPasswordRequired') as no_password_required,
                json_extract_path_text(Properties, 'Passwords') as passwords,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'AuthenticationMode') as authentication_mode,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::User'
    user_groups:
      name: user_groups
      id: aws.elasticache.user_groups
      x-cfn-schema-name: UserGroup
      x-type: list
      x-identifiers:
        - UserGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.UserGroupId') as user_group_
              FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::UserGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'UserGroupId') as user_group_
                FROM aws.cloud_control.resources WHERE data__TypeName = 'AWS::ElastiCache::UserGroup'
    user_group:
      name: user_group
      id: aws.elasticache.user_group
      x-cfn-schema-name: UserGroup
      x-type: get
      x-identifiers:
        - UserGroupId
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              region,
              JSON_EXTRACT(Properties, '$.Status') as status,
              JSON_EXTRACT(Properties, '$.UserGroupId') as user_group_id,
              JSON_EXTRACT(Properties, '$.Engine') as engine,
              JSON_EXTRACT(Properties, '$.UserIds') as user_ids,
              JSON_EXTRACT(Properties, '$.Arn') as arn,
              JSON_EXTRACT(Properties, '$.Tags') as tags
              FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::UserGroup'
            fallback:
              predicate: sqlDialect == "postgres"
              ddl: |-
                SELECT
                region,
                json_extract_path_text(Properties, 'Status') as status,
                json_extract_path_text(Properties, 'UserGroupId') as user_group_id,
                json_extract_path_text(Properties, 'Engine') as engine,
                json_extract_path_text(Properties, 'UserIds') as user_ids,
                json_extract_path_text(Properties, 'Arn') as arn,
                json_extract_path_text(Properties, 'Tags') as tags
                FROM aws.cloud_control.resource WHERE data__TypeName = 'AWS::ElastiCache::UserGroup'
