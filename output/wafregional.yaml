openapi: 3.0.0
info:
  title: WAFRegional
  version: 1.0.0
paths: {}
components:
  schemas:
    ByteMatchTuple:
      type: object
      additionalProperties: false
      properties:
        TargetString:
          type: string
        TargetStringBase64:
          type: string
        PositionalConstraint:
          type: string
        TextTransformation:
          type: string
        FieldToMatch:
          $ref: '#/components/schemas/FieldToMatch'
      required:
        - PositionalConstraint
        - TextTransformation
        - FieldToMatch
    FieldToMatch:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        Data:
          type: string
      required:
        - Type
    ByteMatchSet:
      type: object
      properties:
        Id:
          type: string
        ByteMatchTuples:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/ByteMatchTuple'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: ByteMatchSet
    GeoMatchConstraint:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        Value:
          type: string
      required:
        - Value
        - Type
    GeoMatchSet:
      type: object
      properties:
        Id:
          type: string
        GeoMatchConstraints:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/GeoMatchConstraint'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: GeoMatchSet
    IPSetDescriptor:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        Value:
          type: string
      required:
        - Value
        - Type
    IPSet:
      type: object
      properties:
        Id:
          type: string
        IPSetDescriptors:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/IPSetDescriptor'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: IPSet
    Predicate:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
        DataId:
          type: string
        Negated:
          type: boolean
      required:
        - Type
        - Negated
        - DataId
    RateBasedRule:
      type: object
      properties:
        Id:
          type: string
        MetricName:
          type: string
        RateLimit:
          type: integer
        MatchPredicates:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Predicate'
        RateKey:
          type: string
        Name:
          type: string
      required:
        - MetricName
        - RateLimit
        - RateKey
        - Name
      x-stackql-resource-name: RateBasedRule
    RegexPatternSet:
      type: object
      properties:
        Id:
          type: string
        RegexPatternStrings:
          type: array
          uniqueItems: false
          items:
            type: string
        Name:
          type: string
      required:
        - RegexPatternStrings
        - Name
      x-stackql-resource-name: RegexPatternSet
    Rule:
      type: object
      additionalProperties: false
      properties:
        Action:
          $ref: '#/components/schemas/Action'
        Priority:
          type: integer
        RuleId:
          type: string
      required:
        - Action
        - Priority
        - RuleId
    SizeConstraint:
      type: object
      additionalProperties: false
      properties:
        ComparisonOperator:
          type: string
        Size:
          type: integer
        TextTransformation:
          type: string
        FieldToMatch:
          $ref: '#/components/schemas/FieldToMatch'
      required:
        - ComparisonOperator
        - TextTransformation
        - Size
        - FieldToMatch
    SizeConstraintSet:
      type: object
      properties:
        Id:
          type: string
        SizeConstraints:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/SizeConstraint'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: SizeConstraintSet
    SqlInjectionMatchTuple:
      type: object
      additionalProperties: false
      properties:
        TextTransformation:
          type: string
        FieldToMatch:
          $ref: '#/components/schemas/FieldToMatch'
      required:
        - TextTransformation
        - FieldToMatch
    SqlInjectionMatchSet:
      type: object
      properties:
        Id:
          type: string
        SqlInjectionMatchTuples:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/SqlInjectionMatchTuple'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: SqlInjectionMatchSet
    Action:
      type: object
      additionalProperties: false
      properties:
        Type:
          type: string
      required:
        - Type
    WebACL:
      type: object
      properties:
        Id:
          type: string
        MetricName:
          type: string
        DefaultAction:
          $ref: '#/components/schemas/Action'
        Rules:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/Rule'
        Name:
          type: string
      required:
        - DefaultAction
        - MetricName
        - Name
      x-stackql-resource-name: WebACL
    WebACLAssociation:
      type: object
      properties:
        Id:
          type: string
        ResourceArn:
          type: string
        WebACLId:
          type: string
      required:
        - ResourceArn
        - WebACLId
      x-stackql-resource-name: WebACLAssociation
    XssMatchTuple:
      type: object
      additionalProperties: false
      properties:
        TextTransformation:
          type: string
        FieldToMatch:
          $ref: '#/components/schemas/FieldToMatch'
      required:
        - TextTransformation
        - FieldToMatch
    XssMatchSet:
      type: object
      properties:
        Id:
          type: string
        XssMatchTuples:
          type: array
          uniqueItems: false
          items:
            $ref: '#/components/schemas/XssMatchTuple'
        Name:
          type: string
      required:
        - Name
      x-stackql-resource-name: XssMatchSet
x-stackql-views:
  - ByteMatchSet:
      name: ByteMatchSet
      id: aws.wafregional.ByteMatchSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.ByteMatchTuples') as byte_match_tuples,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::ByteMatchSet' ;
  - GeoMatchSet:
      name: GeoMatchSet
      id: aws.wafregional.GeoMatchSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.GeoMatchConstraints') as geo_match_constraints,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::GeoMatchSet' ;
  - IPSet:
      name: IPSet
      id: aws.wafregional.IPSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.IPSetDescriptors') as i_pset_descriptors,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::IPSet' ;
  - RateBasedRule:
      name: RateBasedRule
      id: aws.wafregional.RateBasedRule
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name,
              JSON_EXTRACT(Properties, '$.RateLimit') as rate_limit,
              JSON_EXTRACT(Properties, '$.MatchPredicates') as match_predicates,
              JSON_EXTRACT(Properties, '$.RateKey') as rate_key,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::RateBasedRule' ;
  - RegexPatternSet:
      name: RegexPatternSet
      id: aws.wafregional.RegexPatternSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.RegexPatternStrings') as regex_pattern_strings,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::RegexPatternSet' ;
  - SizeConstraintSet:
      name: SizeConstraintSet
      id: aws.wafregional.SizeConstraintSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.SizeConstraints') as size_constraints,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::SizeConstraintSet' ;
  - SqlInjectionMatchSet:
      name: SqlInjectionMatchSet
      id: aws.wafregional.SqlInjectionMatchSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.SqlInjectionMatchTuples') as sql_injection_match_tuples,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::SqlInjectionMatchSet' ;
  - WebACL:
      name: WebACL
      id: aws.wafregional.WebACL
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.MetricName') as metric_name,
              JSON_EXTRACT(Properties, '$.DefaultAction.Type') as default_action_type,
              JSON_EXTRACT(Properties, '$.Rules') as rules,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::WebACL' ;
  - WebACLAssociation:
      name: WebACLAssociation
      id: aws.wafregional.WebACLAssociation
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.ResourceArn') as resource_arn,
              JSON_EXTRACT(Properties, '$.WebACLId') as web_ac_lid
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::WebACLAssociation' ;
  - XssMatchSet:
      name: XssMatchSet
      id: aws.wafregional.XssMatchSet
      config:
        views:
          select:
            predicate: sqlDialect == "sqlite3"
            ddl: |-
              SELECT
              JSON_EXTRACT(Properties, '$.Id') as id,
              JSON_EXTRACT(Properties, '$.XssMatchTuples') as xss_match_tuples,
              JSON_EXTRACT(Properties, '$.Name') as name
              FROM aws.cloud_control.resources WHERE region = 'ap-southeast-1' and data__TypeName = 'AWS::WAFRegional::XssMatchSet' ;
